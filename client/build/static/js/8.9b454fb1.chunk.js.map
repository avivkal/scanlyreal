{"version":3,"sources":["../../../../../node_modules/react-bootstrap/esm/Table.js","Components/DashboardNotAdded/DashboardNotAdded.js"],"names":["Table","React","forwardRef","_ref","ref","bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive","props","_objectWithoutPropertiesLoose","decoratedBsPrefix","useBootstrapPrefix","classes","classNames","table","createElement","_extends","responsiveClass","Dashboard","state","productsNotAdded","days","componentDidMount","a","loggedIn","getCurrentUser","logIn","email","password","setLoggedIn","loadData","history","push","LOGIN_PATH","load","axios","get","then","data","setState","finishedLoading","handleDropdownChange","this","loading","animation","style","textAlign","Toggle","id","Menu","Item","onClick","map","current","newDate","Date","creationDate","toLocaleDateString","height","src","image","name","_id","Component","connect","currentUser","main","dispatch","updateCurrentUser","user","mainActions","loadingActions"],"mappings":"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","file":"static/js/8.9b454fb1.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;","import React,{Component} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport * as mainActions from '../../Store/Actions/mainActions'\r\nimport * as loadingActions from '../../Store/Actions/loadingActions'\r\nimport { LOGIN_PATH } from '../../Constants/const';\r\nimport { getCurrentUser } from '../../UtilityFunctions/functions';\r\nimport { Container,Table,Dropdown,Spinner } from 'react-bootstrap';\r\nimport axios from 'axios'\r\nimport './DashboardNotAdded.scss'\r\nclass Dashboard extends Component {\r\n    state = {\r\n        productsNotAdded: [],\r\n        days: 30\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        // axios.get('https://chp.co.il/autocompletion/product_extended?term=8717163647226').then(data=> console.log(data.data[0].value))\r\n        if (!this.props.loggedIn) {\r\n            if (getCurrentUser()) {\r\n                await this.props.logIn(getCurrentUser().email,getCurrentUser().password)\r\n                this.props.setLoggedIn()\r\n                this.loadData(this.state.days)\r\n            }\r\n            else {\r\n                this.props.history.push(LOGIN_PATH)\r\n            }\r\n        }\r\n        else{\r\n            await this.props.logIn(getCurrentUser().email,getCurrentUser().password)\r\n            this.loadData(this.state.days)\r\n        }\r\n    }\r\n    loadData = (days) => {\r\n        this.props.load()\r\n        axios.get('/products/notAdded/' + getCurrentUser().email + '/' + days).then(data => {\r\n            this.setState({productsNotAdded: data.data})\r\n            this.props.finishedLoading()\r\n          })\r\n    }\r\n\r\n    handleDropdownChange = async (days) => {\r\n        this.setState({days:days})\r\n        this.loadData(days)\r\n    }\r\n    render(){\r\n        if(this.props.loading)\r\n            return <Spinner animation=\"border\" className=\"spinner\" />\r\n        return(\r\n            <Container className=\"margin-top-container\">\r\n             \r\n<h1 style={{textAlign:\"right\"}}>מוצרים שלא נכנסו לעגלה</h1>\r\n<Dropdown>\r\n                        <Dropdown.Toggle variant=\"dark\" id=\"dropdown-basic\">\r\n                  לפי    {this.state.days} ימים אחרונים\r\n                        </Dropdown.Toggle>\r\n\r\n                        <Dropdown.Menu>\r\n                            <Dropdown.Item onClick={() => this.handleDropdownChange(7)}>לפי 7 ימים אחרונים</Dropdown.Item>\r\n                            <Dropdown.Item onClick={() => this.handleDropdownChange(30)}>לפי 30 ימים אחרונים </Dropdown.Item>\r\n                            <Dropdown.Item onClick={() => this.handleDropdownChange(365)}>לפי 365 ימים אחרונים</Dropdown.Item>\r\n                        </Dropdown.Menu>\r\n                    </Dropdown>\r\n<Table bordered hover className=\"table-style\">\r\n  <thead>\r\n    <tr>\r\n      <th>תמונה</th>\r\n      <th>שם מוצר</th>\r\n      <th>תאריך</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n      {this.state.productsNotAdded.map(current => {\r\n                    const date = new Date(current.creationDate);\r\n                    const newDate = date.toLocaleDateString('he-IS');          \r\n          return <tr key={current._id}>\r\n                        <td><img height=\"50px\" src={current.image}/></td>\r\n          <td>{current.name}</td>\r\n          <td>{newDate}</td>\r\n\r\n        </tr>\r\n      })}\r\n    \r\n  </tbody>\r\n</Table>\r\n\r\n\r\n</Container>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentUser: state.main.currentUser,\r\n        loggedIn: state.main.loggedIn,\r\n        loading: state.loading.loading\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        updateCurrentUser: (user) => dispatch(mainActions.updateUsername(user)),\r\n        setLoggedIn: () => dispatch(mainActions.loggedIn()),\r\n        load: () => dispatch(loadingActions.loading()),\r\n        finishedLoading: () => dispatch(loadingActions.finishedLoading()),\r\n        logIn: (email, password) => dispatch(mainActions.logIn(email, password))\r\n\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);"],"sourceRoot":""}