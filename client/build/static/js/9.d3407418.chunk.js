(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[9],{139:function(e,t,a){"use strict";var s=a(1),r=a(2),n=a(4),c=a.n(n),i=a(0),l=a.n(i),o=a(7),d=l.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,i=e.striped,d=e.bordered,h=e.borderless,b=e.hover,j=e.size,u=e.variant,p=e.responsive,m=Object(r.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),f=Object(o.a)(a,"table"),g=c()(n,f,u&&f+"-"+u,j&&f+"-"+j,i&&f+"-striped",d&&f+"-bordered",h&&f+"-borderless",b&&f+"-hover"),x=l.a.createElement("table",Object(s.a)({},m,{className:g,ref:t}));if(p){var O=f+"-responsive";return"string"===typeof p&&(O=O+"-"+p),l.a.createElement("div",{className:O},x)}return x}));t.a=d},149:function(e,t,a){},197:function(e,t,a){"use strict";a.r(t);var s=a(13),r=a.n(s),n=a(23),c=a(32),i=a(33),l=a(35),o=a(34),d=a(3),h=a(0),b=a(41),j=a(60),u=(a(42),a(12)),p=a(11),m=a(39),f=a(125),g=a(137),x=a(202),O=a(139),y=a(16),v=a.n(y),N=(a(149),function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={products:[],shufersalTotal:0,ramiLevyTotal:0,image:"",days:30},e.componentDidMount=Object(n.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.loggedIn){t.next=11;break}if(!Object(m.a)()){t.next=8;break}return t.next=4,e.props.logIn(Object(m.a)().email,Object(m.a)().password);case 4:e.props.setLoggedIn(),e.loadData(e.state.days),t.next=9;break;case 8:e.props.history.push(p.d);case 9:t.next=14;break;case 11:return t.next=13,e.props.logIn(Object(m.a)().email,Object(m.a)().password);case 13:e.loadData(e.state.days);case 14:case"end":return t.stop()}}),t)}))),e.loadData=function(t){e.props.load();v.a.get("/products/"+Object(m.a)().email+"/"+t).then((function(t){e.setState({products:t.data});var a=0,s=0;for(var r in t.data)a+=t.data[r].shufersalPrice,s+=t.data[r].ramiLevyPrice;e.setState({shufersalTotal:a}),e.setState({ramiLevyTotal:s}),e.props.finishedLoading()}))},e.handleDropdownChange=function(){var t=Object(n.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({days:a}),e.loadData(a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return this.props.loading?Object(d.jsx)(f.a,{animation:"border",className:"spinner"}):Object(d.jsxs)(g.a,{className:"margin-top-container",children:[Object(d.jsx)("h1",{className:"align-right",children:"\u05de\u05d5\u05e6\u05e8\u05d9\u05dd \u05e9\u05e1\u05e8\u05e7\u05ea"}),Object(d.jsxs)(x.a,{children:[Object(d.jsxs)(x.a.Toggle,{variant:"dark",id:"dropdown-basic",children:["\u05dc\u05e4\u05d9    ",this.state.days," \u05d9\u05de\u05d9\u05dd \u05d0\u05d7\u05e8\u05d5\u05e0\u05d9\u05dd"]}),Object(d.jsxs)(x.a.Menu,{children:[Object(d.jsx)(x.a.Item,{onClick:function(){return e.handleDropdownChange(7)},children:"\u05dc\u05e4\u05d9 7 \u05d9\u05de\u05d9\u05dd \u05d0\u05d7\u05e8\u05d5\u05e0\u05d9\u05dd"}),Object(d.jsx)(x.a.Item,{onClick:function(){return e.handleDropdownChange(30)},children:"\u05dc\u05e4\u05d9 30 \u05d9\u05de\u05d9\u05dd \u05d0\u05d7\u05e8\u05d5\u05e0\u05d9\u05dd "}),Object(d.jsx)(x.a.Item,{onClick:function(){return e.handleDropdownChange(365)},children:"\u05dc\u05e4\u05d9 365 \u05d9\u05de\u05d9\u05dd \u05d0\u05d7\u05e8\u05d5\u05e0\u05d9\u05dd"})]})]}),Object(d.jsx)("p",{className:"align-right",children:"\u05dc\u05d0\u05d9\u05d6\u05d5 \u05e2\u05d2\u05dc\u05d4 \u05d4\u05de\u05d5\u05e6\u05e8 \u05e0\u05db\u05e0\u05e1 = \ud83d\uded2"}),Object(d.jsxs)(O.a,{bordered:!0,hover:!0,className:"table-style",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:"table-style-image",children:"\u05e0\u05d9\u05ea\u05df \u05dc\u05d7\u05e1\u05d5\u05da"}),Object(d.jsx)("th",{className:"table-style-image",children:"\u05e9\u05d5\u05e4\u05e8\u05e1\u05dc"}),Object(d.jsx)("th",{className:"table-style-image",children:"\u05e8\u05de\u05d9 \u05dc\u05d5\u05d9"}),Object(d.jsx)("th",{className:"table-style-image",children:"\u05ea\u05de\u05d5\u05e0\u05d4"}),Object(d.jsx)("th",{children:"\u05e9\u05dd \u05de\u05d5\u05e6\u05e8"}),Object(d.jsx)("th",{children:"\u05ea\u05d0\u05e8\u05d9\u05da"})]})}),Object(d.jsxs)("tbody",{children:[this.state.products.map((function(e){var t=new Date(e.creationDate).toLocaleDateString("he-IS"),a="Shufersal"===e.selection,s=(Math.round(100*(e.shufersalPrice-e.ramiLevyPrice))/100).toFixed(2),r="";return a?s>0&&(r="\u20aa ".concat(s," \u05e0\u05d9\u05ea\u05df \u05dc\u05d7\u05e1\u05d5\u05da \u05d1\u05e8\u05de\u05d9 \u05dc\u05d5\u05d9")):s<0&&(r="\u20aa ".concat(s," \u05e0\u05d9\u05ea\u05df \u05dc\u05d7\u05e1\u05d5\u05da \u05d1\u05e9\u05d5\u05e4\u05e8\u05e1\u05dc")),Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{className:"table-style-image",children:[r," "]}),Object(d.jsxs)("td",{className:(!a&&"gray-style")+" table-style-image",children:[e.shufersalPrice," \u20aa ",a&&Object(d.jsx)("div",{children:"\ud83d\uded2"})]}),Object(d.jsxs)("td",{className:(a&&"gray-style")+" table-style-image",children:[e.ramiLevyPrice," \u20aa ",!a&&Object(d.jsx)("div",{children:"\ud83d\uded2"})]}),Object(d.jsx)("td",{className:"table-style-image",children:Object(d.jsx)("img",{height:"50px",src:e.image})}),Object(d.jsx)("td",{children:e.name}),Object(d.jsx)("td",{children:t})]},e._id)})),Object(d.jsxs)("tr",{style:{borderTop:"2px solid black"},children:[Object(d.jsxs)("td",{children:[(Math.round(100*Math.abs(this.state.ramiLevyTotal-this.state.shufersalTotal))/100).toFixed(2)," \u20aa :\u05d4\u05e4\u05e8\u05e9 \u05de\u05d7\u05d9\u05e8 \u05d1\u05d9\u05df \u05d4\u05e1\u05dc\u05d9\u05dd"]}),Object(d.jsxs)("td",{className:this.state.shufersalTotal<this.state.ramiLevyTotal?"green-style":"red-style",children:[(Math.round(100*this.state.shufersalTotal)/100).toFixed(2)," \u20aa"]}),Object(d.jsxs)("td",{className:this.state.shufersalTotal>this.state.ramiLevyTotal?"green-style":"red-style",children:[(Math.round(100*this.state.ramiLevyTotal)/100).toFixed(2)," \u20aa"]})]},"total")]})]})]})}}]),a}(h.Component));t.default=Object(b.b)((function(e){return{currentUser:e.main.currentUser,loggedIn:e.main.loggedIn,loading:e.loading.loading}}),(function(e){return{updateCurrentUser:function(t){return e(j.f(t))},setLoggedIn:function(){return e(j.c())},load:function(){return e(u.b())},finishedLoading:function(){return e(u.a())},logIn:function(t,a){return e(j.b(t,a))}}}))(N)}}]);
//# sourceMappingURL=9.d3407418.chunk.js.map