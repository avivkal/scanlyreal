(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[17],{127:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a}));var r=n(52),a=function(){return{type:r.a.FINISHED_LOADING}},s=function(){return{type:r.a.LOADING}}},128:function(e,t,n){"use strict";var r=n(141),a=n.n(r),s=n(10);a.a.defaults.baseURL=s.k;var c=JSON.parse(localStorage.getItem("token"));a.a.defaults.headers.common.Authorization=c,a.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",a.a.interceptors.request.use((function(e){var t=JSON.parse(localStorage.getItem("token"));return e.headers.common.Authorization||t&&(e.headers.common.Authorization=t),e}),(function(e){return Promise.reject(e)})),t.a=a.a},129:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var r=function(e){s()&&s().wifiPassword&&(e.wifiPassword=s().wifiPassword),localStorage.setItem("currentUser",JSON.stringify(e))},a=function(e){localStorage.setItem("token",JSON.stringify(e))},s=function(){return JSON.parse(localStorage.getItem("currentUser"))}},131:function(e,t,n){"use strict";n.d(t,"g",(function(){return f})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return O})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return x})),n.d(t,"b",(function(){return j}));var r=n(132),a=n.n(r),s=n(133),c=n(52),i=n(128),o=n(129),u=n(127),l=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(u.b)()),n.prev=1,n.next=4,i.a.post("/wifi",{email:Object(o.a)().email,wifiUsername:e,wifiPassword:t});case 4:s=n.sent,r(f(s.data)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),r(d("\u05ea\u05e7\u05dc\u05d4",n.t0.response.data));case 11:return n.prev=11,r(Object(u.a)()),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,8,11,14]])})));return function(e){return n.apply(this,arguments)}}()},p=function(e,t,n,r,c,l){var p=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return function(){var m=Object(s.a)(a.a.mark((function s(m){var h;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return m(Object(u.b)()),a.prev=1,a.next=4,i.a.post("/settings",{email:Object(o.a)().email,shufersalUsername:e,shufersalPassword:t,ramiLevyUsername:n,ramiLevyPassword:r,selection:c,sound:l});case 4:return h=a.sent,a.next=7,m(f(h.data));case 7:return a.next=9,m(b());case 9:p||m(d("\u05e0\u05e9\u05de\u05e8","\u05db\u05dc \u05d4\u05de\u05d9\u05d3\u05e2 \u05e0\u05e9\u05de\u05e8")),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(1),console.log(a.t0),m(d("\u05ea\u05e7\u05dc\u05d4",a.t0.response.data));case 16:return a.prev=16,m(Object(u.a)()),a.finish(16);case 19:case"end":return a.stop()}}),s,null,[[1,12,16,19]])})));return function(e){return m.apply(this,arguments)}}()},f=function(e){return function(t){Object(o.c)(e);try{void 0!==e.token&&null!==e.token&&""!==e.token&&(Object(o.b)(e.token),t(m(e.token)))}catch(n){console.log(n)}return{type:c.a.UPDATE_USERNAME,payload:e}}},d=function(e,t,n){return{type:c.a.OPEN_PROMPT,title:e,text:t,subjectOptional:n}},b=function(){return{type:c.a.LOGGED_IN}},m=function(e){return{type:c.a.UPDATE_TOKEN,token:e}},h=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(u.b)()),n.prev=1,n.next=4,i.a.post("/login",{email:e,password:t});case 4:return s=n.sent,n.next=7,r(f(s.data));case 7:return n.next=9,r(b());case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),r(d("\u05ea\u05e7\u05dc\u05d4",n.t0.response.data));case 14:return n.prev=14,r(Object(u.a)()),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[1,11,14,17]])})));return function(e){return n.apply(this,arguments)}}()},j=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(u.b)()),n.prev=1,n.next=4,i.a.post("/login/adminfind",{email:e,password:t});case 4:return s=n.sent,n.next=7,r(f(s.data));case 7:return n.next=9,r(b());case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),r(d("\u05ea\u05e7\u05dc\u05d4",n.t0.response.data));case 14:return n.prev=14,r(Object(u.a)()),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[1,11,14,17]])})));return function(e){return n.apply(this,arguments)}}()},x=function(e,t,n,r,c,u,f,b,m,h){return function(){var j=Object(s.a)(a.a.mark((function s(j){return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.a.post("/settings/update",{shufersalUsername:n,shufersalPassword:r,ramiLevyUsername:c,ramiLevyPassword:u,selection:f});case 2:if(!a.sent.data.should){a.next=13;break}return a.next=6,j(O(e,t));case 6:if(!Object(o.a)()){a.next=11;break}return a.next=9,j(l(m,h));case 9:return a.next=11,j(p(n,r,c,u,f,b,!0));case 11:a.next=14;break;case 13:j(d("\u05ea\u05e7\u05dc\u05d4"," \u05d4\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05d5\u05d4\u05e1\u05d9\u05e1\u05de\u05d4 \u05dc\u05d0\u05ea\u05e8 \u05d4\u05e7\u05e0\u05d9\u05d5\u05ea \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5"));case 14:case"end":return a.stop()}}),s)})));return function(e){return j.apply(this,arguments)}}()},O=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(u.b)()),n.prev=1,n.next=4,i.a.post("/register",{email:e,password:t});case 4:return s=n.sent,n.next=7,r(f(s.data));case 7:n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0),r(d("\u05ea\u05e7\u05dc\u05d4",n.t0.response.data));case 13:return n.prev=13,r(Object(u.a)()),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[1,9,13,16]])})));return function(e){return n.apply(this,arguments)}}()}},381:function(e,t,n){},632:function(e,t,n){"use strict";n.r(t);var r=n(66),a=n(41),s=n(42),c=n(44),i=n(43),o=n(3),u=n(0),l=n(31),p=n(131),f=n(67),d=n(127),b=n(10),m=n(129),h=n(108),j=n(143),x=n(196),O=n(109),v=n(382),g=(n(128),n(345)),w=n.n(g),y=(n(381),n(121)),k=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={username:"",password:"",submitUsername:!1,submitPassword:!1},e.onSubmit=function(t){t.preventDefault(),e.props.updateWifiDetails(e.state.username,e.state.password),e.setState({submitUsername:!0})},e.componentDidMount=function(){e.props.loggedIn||(Object(m.a)()?(e.props.updateCurrentUser(Object(m.a)()),e.props.setLoggedIn()):e.props.history.push(b.h))},e.onChange=function(t){e.setState(Object(r.a)({},t.target.name,t.target.value))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return this.props.loading?Object(o.jsx)(h.a,{xs:12,className:"d-flex justify-content-center spinner-style",children:Object(o.jsx)(y.a,{})}):Object(o.jsxs)(j.a,{children:[!(this.state.submitUsername||this.state.submitPassword)&&Object(o.jsx)(x.a,{onSubmit:this.onSubmit,className:"form-style-wifi",children:Object(o.jsxs)(h.a,{xs:12,lg:6,className:"float-right",children:[Object(o.jsxs)(x.a.Group,{controlId:"formBasicEmail",className:"align-right",children:[Object(o.jsx)(x.a.Label,{children:"\u05d4\u05d1\u05d9\u05ea\u05d9\u05ea Wifi\u05e9\u05dd \u05e8\u05e9\u05ea \u05d4 "}),Object(o.jsx)(x.a.Control,{name:"username",type:"text",placeholder:"Enter Wifi Username",onChange:function(t){return e.onChange(t)},value:this.state.username})]}),Object(o.jsxs)(x.a.Group,{controlId:"formBasicPassword",className:"align-right",children:[Object(o.jsx)(x.a.Label,{children:"Wifi\u05e1\u05d9\u05e1\u05de\u05d4 \u05dc"}),Object(o.jsx)(x.a.Control,{name:"password",type:"password",placeholder:"Enter Wifi Password",onChange:function(t){return e.onChange(t)},value:this.state.password})]}),Object(o.jsx)(O.a,{variant:"primary",type:"submit",children:"\u05d4\u05de\u05e9\u05da"})]})}),this.state.submitUsername&&Object(o.jsxs)(j.a,{children:[" ",Object(o.jsxs)(v.a,{className:"center-style",children:[" ",Object(o.jsx)(h.a,{md:{span:6,offset:3},style:{marginTop:"15px"},children:Object(o.jsx)(w.a,{style:{marginTop:"15px"},value:this.state.username})})," "]}),Object(o.jsxs)(v.a,{style:{marginTop:"15px"},children:[" ",Object(o.jsx)(h.a,{md:{span:6,offset:3},className:"center-style",children:Object(o.jsx)(O.a,{variant:"primary",onClick:function(){return e.setState({submitPassword:!0,submitUsername:!1})},children:"\u05d4\u05de\u05e9\u05da"})})," "]})]}),this.state.submitPassword&&Object(o.jsxs)(j.a,{children:[" ",Object(o.jsxs)(v.a,{className:"center-style",children:[" ",Object(o.jsx)(h.a,{md:{span:6,offset:3},style:{marginTop:"15px"},children:Object(o.jsx)(w.a,{value:this.state.password})})," "]}),Object(o.jsxs)(v.a,{style:{marginTop:"15px"},children:[" ",Object(o.jsx)(h.a,{md:{span:6,offset:3},className:"center-style",children:Object(o.jsx)(O.a,{variant:"primary",onClick:function(){return e.setState({submitPassword:!1,submitUsername:!1})},children:"\u05e1\u05d9\u05d5\u05dd"})})," "]})]})]})}}]),n}(u.Component);t.default=Object(l.b)((function(e){return{currentUser:e.main.currentUser,loggedIn:e.main.loggedIn,loading:e.loading.loading}}),(function(e){return{updateCurrentUser:function(t){return e(p.g(t))},setLoggedIn:function(){return e(p.c())},updateWifiDetails:function(t,n){return e(p.h(t,n))},openPrompt:function(t,n){return e(f.b(t,n))},load:function(){return e(d.b())},finishedLoading:function(){return e(d.a())}}}))(k)}}]);
//# sourceMappingURL=17.1d05a3e9.chunk.js.map