(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{139:function(e,t,r){"use strict";var n=r(1),a=r(2),s=r(4),c=r.n(s),o=r(0),i=r.n(o),l=r(7),d=i.a.forwardRef((function(e,t){var r=e.bsPrefix,s=e.className,o=e.striped,d=e.bordered,u=e.borderless,h=e.hover,j=e.size,p=e.variant,b=e.responsive,f=Object(a.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),O=Object(l.a)(r,"table"),x=c()(s,O,p&&O+"-"+p,j&&O+"-"+j,o&&O+"-striped",d&&O+"-bordered",u&&O+"-borderless",h&&O+"-hover"),g=i.a.createElement("table",Object(n.a)({},f,{className:x,ref:t}));if(b){var m=O+"-responsive";return"string"===typeof b&&(m=m+"-"+b),i.a.createElement("div",{className:m},g)}return g}));t.a=d},189:function(e,t,r){"use strict";var n=r(1),a=r(2),s=r(4),c=r.n(s),o=r(0),i=r.n(o),l=r(7),d=["xl","lg","md","sm","xs"],u=i.a.forwardRef((function(e,t){var r=e.bsPrefix,s=e.className,o=e.noGutters,u=e.as,h=void 0===u?"div":u,j=Object(a.a)(e,["bsPrefix","className","noGutters","as"]),p=Object(l.a)(r,"row"),b=p+"-cols",f=[];return d.forEach((function(e){var t,r=j[e];delete j[e];var n="xs"!==e?"-"+e:"";null!=(t=null!=r&&"object"===typeof r?r.cols:r)&&f.push(""+b+n+"-"+t)})),i.a.createElement(h,Object(n.a)({ref:t},j,{className:c.a.apply(void 0,[s,p,o&&"no-gutters"].concat(f))}))}));u.displayName="Row",u.defaultProps={noGutters:!1},t.a=u},191:function(e,t,r){},201:function(e,t,r){"use strict";r.r(t);var n=r(13),a=r.n(n),s=r(23),c=r(32),o=r(33),i=r(35),l=r(34),d=r(3),u=r(0),h=r(41),j=r(60),p=r(12),b=r(11),f=r(39),O=r(125),x=r(137),g=r(189),m=r(202),v=r(139),w=r(16),y=r.n(w),k=(r(191),function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={products:[],days:30,totalPriceLocal:0,filter:"price"},e.componentDidMount=Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.loggedIn){t.next=11;break}if(!Object(f.a)()){t.next=8;break}return t.next=4,e.props.logIn(Object(f.a)().email,Object(f.a)().password);case 4:e.props.setLoggedIn(),e.loadData(e.state.days),t.next=9;break;case 8:e.props.history.push(b.d);case 9:t.next=14;break;case 11:return t.next=13,e.props.logIn(Object(f.a)().email,Object(f.a)().password);case 13:e.loadData(e.state.days);case 14:case"end":return t.stop()}}),t)}))),e.loadData=function(t,r){e.props.load();var n="Shufersal"===e.props.currentUser.selection;console.log(e.props.currentUser.selection+n),y.a.post("/products/agg",{email:Object(f.a)().email,number:t,isShufersal:n,filter:r}).then((function(t){e.setState({products:t.data});for(var r=0,n=0;n<t.data.length;n++)r+=t.data[n].price;e.setState({totalPriceLocal:r}),console.log(t.data),e.props.finishedLoading()}))},e.handleDropdownChange=function(){var t=Object(s.a)(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({days:r}),e.loadData(r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDropdownChangeFilters=function(){var t=Object(s.a)(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({filter:r}),e.loadData(e.state.days,r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(r,[{key:"render",value:function(){var e=this;return this.props.loading?Object(d.jsx)(O.a,{animation:"border",className:"spinner"}):Object(d.jsxs)(x.a,{className:"margin-top-container",children:[Object(d.jsx)("h1",{style:{textAlign:"right"},children:"\u05e0\u05ea\u05d5\u05e0\u05d9 \u05e6\u05e8\u05d9\u05db\u05d4"}),Object(d.jsxs)(g.a,{children:[Object(d.jsxs)(m.a,{children:[Object(d.jsxs)(m.a.Toggle,{variant:"dark",id:"dropdown-basic",children:["\u05dc\u05e4\u05d9    ",this.state.days," \u05d9\u05de\u05d9\u05dd \u05d0\u05d7\u05e8\u05d5\u05e0\u05d9\u05dd"]}),Object(d.jsxs)(m.a.Menu,{children:[Object(d.jsx)(m.a.Item,{onClick:function(){return e.handleDropdownChange(7)},children:"\u05dc\u05e4\u05d9 7 \u05d9\u05de\u05d9\u05dd \u05d0\u05d7\u05e8\u05d5\u05e0\u05d9\u05dd"}),Object(d.jsx)(m.a.Item,{onClick:function(){return e.handleDropdownChange(30)},children:"\u05dc\u05e4\u05d9 30 \u05d9\u05de\u05d9\u05dd \u05d0\u05d7\u05e8\u05d5\u05e0\u05d9\u05dd "}),Object(d.jsx)(m.a.Item,{onClick:function(){return e.handleDropdownChange(365)},children:"\u05dc\u05e4\u05d9 365 \u05d9\u05de\u05d9\u05dd \u05d0\u05d7\u05e8\u05d5\u05e0\u05d9\u05dd"})]})]}),Object(d.jsxs)(m.a,{className:"dropdown-style",children:[Object(d.jsx)(m.a.Toggle,{variant:"dark",id:"dropdown-basic",children:"price"===this.state.filter?"\u05de\u05d7\u05d9\u05e8 \u05db\u05d5\u05dc\u05dc":"\u05db\u05de\u05d5\u05ea"}),Object(d.jsxs)(m.a.Menu,{children:[Object(d.jsx)(m.a.Item,{onClick:function(){return e.handleDropdownChangeFilters("price")},children:"\u05de\u05d7\u05d9\u05e8 \u05db\u05d5\u05dc\u05dc"}),Object(d.jsx)(m.a.Item,{onClick:function(){return e.handleDropdownChangeFilters("amount")},children:"\u05db\u05de\u05d5\u05ea "})]})]})]}),Object(d.jsxs)("p",{className:"align-right",children:["\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05dc\u05e4\u05d9 \u05e2\u05d2\u05dc\u05d4 \u05e0\u05d5\u05db\u05d7\u05d9\u05ea: ",Object(d.jsx)("b",{children:"Shufersal"===this.props.currentUser.selection?"\u05e9\u05d5\u05e4\u05e8\u05e1\u05dc":"\u05e8\u05de\u05d9 \u05dc\u05d5\u05d9"})]}),Object(d.jsxs)(v.a,{bordered:!0,hover:!0,className:"table-style",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"\u05de\u05d7\u05d9\u05e8 \u05db\u05d5\u05dc\u05dc"}),Object(d.jsx)("th",{children:"\u05db\u05de\u05d5\u05ea"}),Object(d.jsx)("th",{children:"\u05ea\u05de\u05d5\u05e0\u05d4"}),Object(d.jsx)("th",{children:"\u05e9\u05dd \u05de\u05d5\u05e6\u05e8"})]})}),Object(d.jsxs)("tbody",{children:[this.state.products.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[e.price,"\u20aa"]}),Object(d.jsx)("td",{children:e.total}),Object(d.jsx)("td",{children:Object(d.jsx)("img",{height:"50px",src:e._id.image})}),Object(d.jsx)("td",{children:e._id.name})]},e._id.barcode)})),Object(d.jsx)("tr",{children:Object(d.jsxs)("td",{children:[(Math.round(100*this.state.totalPriceLocal)/100).toFixed(2)," \u20aa"]})},"total")]})]})]})}}]),r}(u.Component));t.default=Object(h.b)((function(e){return{currentUser:e.main.currentUser,loggedIn:e.main.loggedIn,loading:e.loading.loading}}),(function(e){return{updateCurrentUser:function(t){return e(j.f(t))},setLoggedIn:function(){return e(j.c())},load:function(){return e(p.b())},finishedLoading:function(){return e(p.a())},logIn:function(t,r){return e(j.b(t,r))}}}))(k)}}]);
//# sourceMappingURL=5.1ac0d4b3.chunk.js.map