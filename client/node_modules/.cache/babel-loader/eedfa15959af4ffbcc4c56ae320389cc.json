{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\avivk\\\\Documents\\\\GitHub\\\\scanlyreal\\\\client\\\\src\\\\Components\\\\Settings\\\\Settings.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as mainActions from '../../Store/Actions/mainActions';\nimport { LOGIN_PATH } from '../../Constants/const';\nimport { getCurrentUser } from '../../UtilityFunctions/functions';\nimport { Form, Button, Dropdown, Container, Col } from 'react-bootstrap';\nimport axios from '../../Axios/config';\nimport * as promptActions from '../../Store/Actions/promptActions';\nimport * as loadingActions from '../../Store/Actions/loadingActions';\nimport './settings.scss';\n\nclass Settings extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      shufersalUsername: '',\n      shufersalPassword: '',\n      ramiLevyUsername: '',\n      ramiLevyPassword: '',\n      selection: 'Shufersal',\n      sound: false\n    };\n\n    this.componentDidMount = () => {\n      //load everything\n      this.props.load();\n\n      try {\n        axios.post('/details/', {\n          email: getCurrentUser().email\n        }).then(data => {\n          const user = data.data;\n          if (user.selection === '' || user.selection === undefined || user.selection === null) user.selection = 'Shufersal';\n          this.setState({\n            shufersalUsername: user.shufersalUsername,\n            shufersalPassword: user.shufersalPassword,\n            ramiLevyUsername: user.ramiLevyUsername,\n            ramiLevyPassword: user.ramiLevyPassword,\n            selection: user.selection,\n            sound: user.sound\n          });\n        });\n      } catch (error) {\n        this.props.openPrompt('תקלה', 'לא ניתן לבצע את הפעולה');\n      } finally {\n        this.props.finishedLoading();\n      }\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      this.props.updateSettings(this.state.shufersalUsername, this.state.shufersalPassword, this.state.ramiLevyUsername, this.state.ramiLevyPassword, this.state.selection, this.state.sound);\n    };\n\n    this.onChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: this.onSubmit,\n        className: \"align-right margin\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          xs: 12,\n          lg: 6,\n          className: \"float-right\",\n          children: [/*#__PURE__*/_jsxDEV(Dropdown, {\n            children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n              variant: \"dark\",\n              id: \"dropdown-basic\",\n              className: \"margin-cart\",\n              children: this.state.selection === 'Shufersal' ? 'שופרסל' : 'רמי לוי'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 25\n            }, this), \"\\u05D1\\u05D7\\u05E8 \\u05E2\\u05D2\\u05DC\\u05D4\", /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n              className: \"margin-cart\",\n              children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: () => this.setState({\n                  selection: 'Shufersal'\n                }),\n                children: \"\\u05E9\\u05D5\\u05E4\\u05E8\\u05E1\\u05DC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: () => this.setState({\n                  selection: 'Rami Levy'\n                }),\n                children: \"\\u05E8\\u05DE\\u05D9 \\u05DC\\u05D5\\u05D9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-margin-top\",\n            children: [this.state.selection === 'Shufersal' && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                controlId: \"formBasicEmail\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"\\u05E9\\u05D5\\u05E4\\u05E8\\u05E1\\u05DC \\u05D0\\u05D9\\u05DE\\u05D9\\u05D9\\u05DC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  name: \"shufersalUsername\",\n                  type: \"text\",\n                  placeholder: \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05DE\\u05D9\\u05D9\\u05DC \\u05DC\\u05E9\\u05D5\\u05E4\\u05E8\\u05E1\\u05DC\",\n                  onChange: e => this.onChange(e),\n                  value: this.state.shufersalUsername\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                controlId: \"formBasicPassword\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"\\u05E9\\u05D5\\u05E4\\u05E8\\u05E1\\u05DC \\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  name: \"shufersalPassword\",\n                  type: \"password\",\n                  placeholder: \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05E1\\u05D9\\u05E1\\u05DE\\u05D4 \\u05DC\\u05E9\\u05D5\\u05E4\\u05E8\\u05E1\\u05DC\",\n                  onChange: e => this.onChange(e),\n                  value: this.state.shufersalPassword\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 66\n            }, this), this.state.selection !== 'Shufersal' && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                controlId: \"formBasicEmail\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"\\u05E8\\u05DE\\u05D9 \\u05DC\\u05D5\\u05D9 \\u05D0\\u05D9\\u05DE\\u05D9\\u05D9\\u05DC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  name: \"ramiLevyUsername\",\n                  type: \"text\",\n                  placeholder: \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05DE\\u05D9\\u05D9\\u05DC \\u05DC\\u05E8\\u05DE\\u05D9 \\u05DC\\u05D5\\u05D9\",\n                  onChange: e => this.onChange(e),\n                  value: this.state.ramiLevyUsername\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                controlId: \"formBasicPassword\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"\\u05E8\\u05DE\\u05D9 \\u05DC\\u05D5\\u05D9 \\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  name: \"ramiLevyPassword\",\n                  type: \"password\",\n                  placeholder: \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05E1\\u05D9\\u05E1\\u05DE\\u05D4 \\u05DC\\u05E8\\u05DE\\u05D9 \\u05DC\\u05D5\\u05D9\",\n                  onChange: e => this.onChange(e),\n                  value: this.state.ramiLevyPassword\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formBasicCheckbox\",\n              className: \"margin-sound\",\n              children: /*#__PURE__*/_jsxDEV(Form.Check, {\n                name: \"sound\",\n                type: \"checkbox\",\n                label: \"\\u05EA\\u05D2\\u05D5\\u05D1\\u05D5\\u05EA \\u05D0\\u05D5\\u05D3\\u05D9\\u05D5 \\u05DE\\u05D4\\u05DE\\u05DB\\u05E9\\u05D9\\u05E8\",\n                onChange: e => this.setState({\n                  sound: e.target.checked\n                }),\n                checked: this.state.sound\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"submit\",\n              children: \"\\u05E9\\u05DE\\u05D5\\u05E8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.main.currentUser,\n    loggedIn: state.main.loggedIn,\n    loading: state.loading.loading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateCurrentUser: user => dispatch(mainActions.updateUsername(user)),\n    setLoggedIn: () => dispatch(mainActions.loggedIn()),\n    updateSettings: (shufersalUsername, shufersalPassword, ramiLevyUsername, ramiLevyPassword, selection, sound) => dispatch(mainActions.updateSettings(shufersalUsername, shufersalPassword, ramiLevyUsername, ramiLevyPassword, selection, sound)),\n    openPrompt: (title, text) => dispatch(promptActions.openPrompt(title, text)),\n    load: () => dispatch(loadingActions.loading()),\n    finishedLoading: () => dispatch(loadingActions.finishedLoading())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);","map":{"version":3,"sources":["C:/Users/avivk/Documents/GitHub/scanlyreal/client/src/Components/Settings/Settings.js"],"names":["React","Component","connect","mainActions","LOGIN_PATH","getCurrentUser","Form","Button","Dropdown","Container","Col","axios","promptActions","loadingActions","Settings","state","shufersalUsername","shufersalPassword","ramiLevyUsername","ramiLevyPassword","selection","sound","componentDidMount","props","load","post","email","then","data","user","undefined","setState","error","openPrompt","finishedLoading","onSubmit","e","preventDefault","updateSettings","onChange","event","target","name","value","render","checked","mapStateToProps","currentUser","main","loggedIn","loading","mapDispatchToProps","dispatch","updateCurrentUser","updateUsername","setLoggedIn","title","text"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport * as mainActions from '../../Store/Actions/mainActions'\r\nimport { LOGIN_PATH } from '../../Constants/const';\r\nimport { getCurrentUser } from '../../UtilityFunctions/functions';\r\nimport { Form, Button, Dropdown, Container, Col } from 'react-bootstrap';\r\nimport axios from '../../Axios/config'\r\nimport * as promptActions from '../../Store/Actions/promptActions'\r\nimport * as loadingActions from '../../Store/Actions/loadingActions'\r\nimport './settings.scss'\r\n\r\nclass Settings extends Component {\r\n    state = {\r\n        shufersalUsername: '',\r\n        shufersalPassword: '',\r\n        ramiLevyUsername: '',\r\n        ramiLevyPassword: '',\r\n        selection: 'Shufersal',\r\n        sound: false\r\n    }\r\n    componentDidMount = () => {\r\n        //load everything\r\n        this.props.load();\r\n        try{\r\n            axios.post('/details/' ,{email: getCurrentUser().email}).then(data => {\r\n                const user = data.data;\r\n                if(user.selection === '' || user.selection === undefined || user.selection === null)\r\n                    user.selection = 'Shufersal';\r\n                this.setState({\r\n                    shufersalUsername: user.shufersalUsername,\r\n                    shufersalPassword: user.shufersalPassword,\r\n                    ramiLevyUsername: user.ramiLevyUsername,\r\n                    ramiLevyPassword: user.ramiLevyPassword,\r\n                    selection: user.selection,\r\n                    sound: user.sound\r\n                });\r\n                \r\n        \r\n            })\r\n        }\r\n        catch(error)\r\n       {\r\n        this.props.openPrompt('תקלה','לא ניתן לבצע את הפעולה');\r\n       }\r\n       finally{\r\n        this.props.finishedLoading();\r\n       }\r\n        \r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault()\r\n        this.props.updateSettings(this.state.shufersalUsername,\r\n            this.state.shufersalPassword,\r\n            this.state.ramiLevyUsername,\r\n            this.state.ramiLevyPassword,\r\n            this.state.selection,\r\n            this.state.sound,\r\n        );\r\n    }\r\n    onChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    };\r\n    render() {        \r\n        return (\r\n            <Container>\r\n                <Form onSubmit={this.onSubmit} className=\"align-right margin\">\r\n                    <Col xs={12} lg={6} className=\"float-right\">\r\n                    <Dropdown>\r\n\r\n                        <Dropdown.Toggle variant=\"dark\" id=\"dropdown-basic\" className=\"margin-cart\">\r\n                            {this.state.selection === 'Shufersal' ? 'שופרסל' : 'רמי לוי'}\r\n                        </Dropdown.Toggle>\r\n                        בחר עגלה\r\n\r\n                        <Dropdown.Menu className=\"margin-cart\">\r\n                            <Dropdown.Item onClick={() => this.setState({ selection: 'Shufersal' })}>שופרסל</Dropdown.Item>\r\n                            <Dropdown.Item onClick={() => this.setState({ selection: 'Rami Levy' })}>רמי לוי</Dropdown.Item>\r\n                        </Dropdown.Menu>\r\n                    </Dropdown>\r\n                    <div className=\"form-margin-top\">\r\n                        {this.state.selection === 'Shufersal' && <div>\r\n                    <Form.Group controlId=\"formBasicEmail\">\r\n                        <Form.Label>שופרסל אימייל</Form.Label>\r\n                        <Form.Control name=\"shufersalUsername\" type=\"text\" placeholder=\"הכנס מייל לשופרסל\" onChange={(e) => this.onChange(e)} value={this.state.shufersalUsername} />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formBasicPassword\">\r\n                        <Form.Label>שופרסל סיסמה</Form.Label>\r\n                        <Form.Control name=\"shufersalPassword\" type=\"password\" placeholder=\"הכנס סיסמה לשופרסל\" onChange={(e) => this.onChange(e)} value={this.state.shufersalPassword} />\r\n                    </Form.Group>\r\n                    </div>}\r\n                        \r\n                    {this.state.selection !== 'Shufersal' && \r\n                    <div>\r\n                    <Form.Group controlId=\"formBasicEmail\">\r\n                    <Form.Label>רמי לוי אימייל</Form.Label>\r\n                    <Form.Control name=\"ramiLevyUsername\" type=\"text\" placeholder=\"הכנס מייל לרמי לוי\" onChange={(e) => this.onChange(e)} value={this.state.ramiLevyUsername} />\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formBasicPassword\">\r\n                    <Form.Label>רמי לוי סיסמה</Form.Label>\r\n                    <Form.Control name=\"ramiLevyPassword\" type=\"password\" placeholder=\"הכנס סיסמה לרמי לוי\" onChange={(e) => this.onChange(e)} value={this.state.ramiLevyPassword} />\r\n                </Form.Group>\r\n                </div>\r\n                    }\r\n                    \r\n                   \r\n                    <Form.Group controlId=\"formBasicCheckbox\" className=\"margin-sound\">\r\n                        <Form.Check name=\"sound\" type=\"checkbox\" label=\"תגובות אודיו מהמכשיר\" onChange={(e) => this.setState({ sound: e.target.checked })} checked={this.state.sound} />\r\n                    </Form.Group>\r\n                    <Button variant=\"primary\" type=\"submit\">\r\n                        שמור\r\n                    </Button>\r\n                    </div>\r\n                    </Col>\r\n                </Form>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentUser: state.main.currentUser,\r\n        loggedIn: state.main.loggedIn,\r\n        loading: state.loading.loading\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        updateCurrentUser: (user) => dispatch(mainActions.updateUsername(user)),\r\n        setLoggedIn: () => dispatch(mainActions.loggedIn()),\r\n        updateSettings: (shufersalUsername, shufersalPassword, ramiLevyUsername, ramiLevyPassword, selection, sound) => dispatch(mainActions.updateSettings(shufersalUsername, shufersalPassword, ramiLevyUsername, ramiLevyPassword, selection, sound)),\r\n        openPrompt: (title, text) => dispatch(promptActions.openPrompt(title, text)),\r\n        load: () => dispatch(loadingActions.loading()),\r\n        finishedLoading: () => dispatch(loadingActions.finishedLoading()),\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);"]},"metadata":{},"sourceType":"module"}