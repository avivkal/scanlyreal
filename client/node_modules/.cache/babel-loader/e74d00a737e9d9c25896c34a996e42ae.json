{"ast":null,"code":"import _defineProperty from\"C:/Users/avivk/Documents/GitHub/scanlyreal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/avivk/Documents/GitHub/scanlyreal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/avivk/Documents/GitHub/scanlyreal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/avivk/Documents/GitHub/scanlyreal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/avivk/Documents/GitHub/scanlyreal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from'react';import{connect}from'react-redux';import*as mainActions from'../../Store/Actions/mainActions';import*as promptActions from'../../Store/Actions/promptActions';import*as loadingActions from'../../Store/Actions/loadingActions';import{LOGIN_PATH}from'../../Constants/const';import{getCurrentUser}from'../../UtilityFunctions/functions';import{Form,Button,Container,Spinner,Row,Col}from'react-bootstrap';import axios from'axios';import Barcode from'react-barcode';import'./wifi.scss';var Wifi=/*#__PURE__*/function(_Component){_inherits(Wifi,_Component);var _super=_createSuper(Wifi);function Wifi(){var _this;_classCallCheck(this,Wifi);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:'',password:'',submitUsername:false,submitPassword:false};_this.onSubmit=function(event){event.preventDefault();_this.props.updateWifiDetails(_this.state.username,_this.state.password);_this.setState({submitUsername:true});// axios.post('/wifi',{email:getCurrentUser().email,wifiUsername: this.state.username,wifiPassword: this.state.password }).then(data => console.log(data))\n};_this.componentDidMount=function(){if(!_this.props.loggedIn){if(getCurrentUser()){_this.props.updateCurrentUser(getCurrentUser());_this.props.setLoggedIn();}else{_this.props.history.push(LOGIN_PATH);}}_this.props.load();try{axios.get('/details/'+getCurrentUser().email).then(function(data){var user=data.data;_this.setState({username:user.wifiUsername,password:user.wifiPassword});});}catch(error){_this.props.openPrompt('תקלה','לא ניתן לבצע את הפעולה');}finally{_this.props.finishedLoading();}};_this.onChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};return _this;}_createClass(Wifi,[{key:\"render\",value:function render(){var _this2=this;if(this.props.loading){return/*#__PURE__*/_jsx(Spinner,{animation:\"border\",className:\"spinner\"});}return/*#__PURE__*/_jsxs(Container,{children:[!(this.state.submitUsername||this.state.submitPassword)&&/*#__PURE__*/_jsx(Form,{onSubmit:this.onSubmit,className:\"form-style\",children:/*#__PURE__*/_jsxs(Col,{xs:12,lg:6,className:\"float-right\",children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",className:\"align-right\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Wifi\\u05E9\\u05DD \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9 \\u05DC\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"username\",type:\"text\",placeholder:\"Enter Wifi Username\",onChange:function onChange(e){return _this2.onChange(e);},value:this.state.username})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicPassword\",className:\"align-right\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Wifi\\u05E1\\u05D9\\u05E1\\u05DE\\u05D4 \\u05DC\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"password\",type:\"password\",placeholder:\"Enter Wifi Password\",onChange:function onChange(e){return _this2.onChange(e);},value:this.state.password})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"\\u05D4\\u05DE\\u05E9\\u05DA\"})]})}),this.state.submitUsername&&/*#__PURE__*/_jsxs(Container,{children:[\" \",/*#__PURE__*/_jsxs(Row,{className:\"center-style\",children:[\" \",/*#__PURE__*/_jsx(Col,{md:{span:6,offset:3},children:/*#__PURE__*/_jsx(Barcode,{value:this.state.username})}),\" \"]}),/*#__PURE__*/_jsxs(Row,{children:[\" \",/*#__PURE__*/_jsx(Col,{md:{span:6,offset:3},className:\"center-style\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:function onClick(){return _this2.setState({submitPassword:true,submitUsername:false});},children:\"\\u05D4\\u05DE\\u05E9\\u05DA\"})}),\" \"]})]}),this.state.submitPassword&&/*#__PURE__*/_jsxs(Container,{children:[\" \",/*#__PURE__*/_jsxs(Row,{className:\"center-style\",children:[\" \",/*#__PURE__*/_jsx(Col,{md:{span:6,offset:3},children:/*#__PURE__*/_jsx(Barcode,{value:this.state.password})}),\" \"]}),/*#__PURE__*/_jsxs(Row,{children:[\" \",/*#__PURE__*/_jsx(Col,{md:{span:6,offset:3},className:\"center-style\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:function onClick(){return _this2.setState({submitPassword:false,submitUsername:false});},children:\"\\u05E1\\u05D9\\u05D5\\u05DD\"})}),\" \"]})]})]});}}]);return Wifi;}(Component);var mapStateToProps=function mapStateToProps(state){return{currentUser:state.main.currentUser,loggedIn:state.main.loggedIn,loading:state.loading.loading};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{updateCurrentUser:function updateCurrentUser(user){return dispatch(mainActions.updateUsername(user));},setLoggedIn:function setLoggedIn(){return dispatch(mainActions.loggedIn());},updateWifiDetails:function updateWifiDetails(username,password){return dispatch(mainActions.updateWifiDetails(username,password));},openPrompt:function openPrompt(title,text){return dispatch(promptActions.openPrompt(title,text));},load:function load(){return dispatch(loadingActions.loading());},finishedLoading:function finishedLoading(){return dispatch(loadingActions.finishedLoading());}};};export default connect(mapStateToProps,mapDispatchToProps)(Wifi);","map":{"version":3,"sources":["C:/Users/avivk/Documents/GitHub/scanlyreal/client/src/Components/Wifi/Wifi.js"],"names":["React","Component","connect","mainActions","promptActions","loadingActions","LOGIN_PATH","getCurrentUser","Form","Button","Container","Spinner","Row","Col","axios","Barcode","Wifi","state","username","password","submitUsername","submitPassword","onSubmit","event","preventDefault","props","updateWifiDetails","setState","componentDidMount","loggedIn","updateCurrentUser","setLoggedIn","history","push","load","get","email","then","data","user","wifiUsername","wifiPassword","error","openPrompt","finishedLoading","onChange","target","name","value","loading","e","span","offset","mapStateToProps","currentUser","main","mapDispatchToProps","dispatch","updateUsername","title","text"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport * as mainActions from '../../Store/Actions/mainActions'\r\nimport * as promptActions from '../../Store/Actions/promptActions'\r\nimport * as loadingActions from '../../Store/Actions/loadingActions'\r\nimport { LOGIN_PATH } from '../../Constants/const';\r\nimport { getCurrentUser } from '../../UtilityFunctions/functions';\r\nimport { Form, Button, Container, Spinner,Row,Col } from 'react-bootstrap';\r\nimport axios from 'axios'\r\nimport Barcode from 'react-barcode'\r\nimport './wifi.scss'\r\n\r\n\r\nclass Wifi extends Component {\r\n    state = {\r\n        username: '',\r\n        password: '',\r\n        submitUsername: false,\r\n        submitPassword: false,\r\n    }\r\n    onSubmit = (event) => {\r\n        event.preventDefault();\r\n        this.props.updateWifiDetails(this.state.username, this.state.password);\r\n        this.setState({ submitUsername: true })\r\n        // axios.post('/wifi',{email:getCurrentUser().email,wifiUsername: this.state.username,wifiPassword: this.state.password }).then(data => console.log(data))\r\n    };\r\n\r\n    componentDidMount = () => {\r\n        if (!this.props.loggedIn) {\r\n            if (getCurrentUser()) {\r\n                this.props.updateCurrentUser(getCurrentUser())\r\n                this.props.setLoggedIn()\r\n            }\r\n            else {\r\n                this.props.history.push(LOGIN_PATH)\r\n            }\r\n        }\r\n        this.props.load();\r\n        try {\r\n            axios.get('/details/' + getCurrentUser().email).then(data => {\r\n                const user = data.data;\r\n                this.setState({\r\n                    username: user.wifiUsername,\r\n                    password: user.wifiPassword,\r\n                });\r\n            })\r\n        }\r\n        catch (error) {\r\n            this.props.openPrompt('תקלה', 'לא ניתן לבצע את הפעולה');\r\n        }\r\n        finally {\r\n            this.props.finishedLoading();\r\n        }\r\n\r\n    }\r\n\r\n    onChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    };\r\n\r\n    render() {\r\n        if (this.props.loading) {\r\n            return <Spinner animation=\"border\" className=\"spinner\" />\r\n        }\r\n\r\n        return (\r\n            <Container>\r\n                {!(this.state.submitUsername || this.state.submitPassword) && <Form onSubmit={this.onSubmit} className=\"form-style\">\r\n                    <Col xs={12} lg={6} className=\"float-right\">\r\n                    <Form.Group controlId=\"formBasicEmail\" className=\"align-right\">\r\n                        <Form.Label>Wifiשם משתמש ל</Form.Label>\r\n                        <Form.Control name=\"username\" type=\"text\" placeholder=\"Enter Wifi Username\" onChange={(e) => this.onChange(e)} value={this.state.username} />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formBasicPassword\" className=\"align-right\">\r\n                    <Form.Label>Wifiסיסמה ל</Form.Label>\r\n                        <Form.Control name=\"password\" type=\"password\" placeholder=\"Enter Wifi Password\" onChange={(e) => this.onChange(e)} value={this.state.password} />\r\n                    </Form.Group>\r\n                    <Button variant=\"primary\" type=\"submit\">\r\n                        המשך\r\n  </Button>\r\n  </Col>\r\n                </Form>}\r\n                \r\n                {this.state.submitUsername && <Container> <Row className=\"center-style\"> <Col md={{ span: 6, offset: 3 }}\r\n><Barcode value={this.state.username} /></Col> </Row>\r\n                  <Row> <Col md={{ span: 6, offset: 3 }} className=\"center-style\"><Button variant=\"primary\" onClick={()=>this.setState({submitPassword: true, submitUsername: false})}>\r\n                        המשך\r\n  </Button></Col> </Row></Container>}\r\n                {this.state.submitPassword && <Container> <Row className=\"center-style\"> <Col md={{ span: 6, offset: 3 }}\r\n><Barcode value={this.state.password} /></Col> </Row>\r\n                  <Row> <Col md={{ span: 6, offset: 3 }} className=\"center-style\"><Button variant=\"primary\" onClick={()=>this.setState({submitPassword: false, submitUsername: false})}>\r\n                        סיום\r\n  </Button></Col> </Row></Container>}\r\n\r\n\r\n               \r\n\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentUser: state.main.currentUser,\r\n        loggedIn: state.main.loggedIn,\r\n        loading: state.loading.loading\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        updateCurrentUser: (user) => dispatch(mainActions.updateUsername(user)),\r\n        setLoggedIn: () => dispatch(mainActions.loggedIn()),\r\n        updateWifiDetails: (username, password) => dispatch(mainActions.updateWifiDetails(username, password)),\r\n        openPrompt: (title, text) => dispatch(promptActions.openPrompt(title, text)),\r\n        load: () => dispatch(loadingActions.loading()),\r\n        finishedLoading: () => dispatch(loadingActions.finishedLoading()),\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Wifi);"]},"metadata":{},"sourceType":"module"}