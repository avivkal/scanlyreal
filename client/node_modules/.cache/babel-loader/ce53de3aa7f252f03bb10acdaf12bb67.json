{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/avivk/Documents/GitHub/scanlyreal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/avivk/Documents/GitHub/scanlyreal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{actionTypes}from'../actionTypes';import axios from'axios';import{store}from'../store';import{loading,finishedLoading}from'./loadingActions';import{getEmails}from'./mainActions';var deleteMessagePrompt=function deleteMessagePrompt(){return{type:actionTypes.DELETE};};var toggleSuccess=function toggleSuccess(){return{type:actionTypes.TOGGLE_SUCCESS};};var closePrompt=function closePrompt(){return function(dispatch){dispatch(deletePromptFinished());dispatch(closePromptFunc());};};var closePromptFunc=function closePromptFunc(){return{type:actionTypes.CLOSE_PROMPT};};var openPromptDelete=function openPromptDelete(title,text){return{type:actionTypes.OPEN_PROMPT_DELETE,title:title,text:text};};var closePromptDelete=function closePromptDelete(title,text){return{type:actionTypes.CLOSE_PROMPT_DELETE,title:title,text:text};};var deletePrompt=function deletePrompt(){return{type:actionTypes.IS_DELETE};};var deletePromptFinished=function deletePromptFinished(){return{type:actionTypes.IS_DELETE_FINISHED};};var deletePromptSetId=function deletePromptSetId(id){return{type:actionTypes.SET_ID_TO_DELETE,payload:id};};var openPrompt=function openPrompt(title,text,subjectOptional){return{type:actionTypes.OPEN_PROMPT,title:title,text:text,subjectOptional:subjectOptional};};var deleteMessage=function deleteMessage(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var id;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:id=store.getState().prompt.idToDelete;dispatch(loading());try{axios.delete('/messages/'+id).then(function(data){dispatch(getEmails());});}catch(error){dispatch(openPrompt('Error',error.response.data));}finally{dispatch(finishedLoading());}case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export{closePrompt,openPrompt,deleteMessagePrompt,openPromptDelete,closePromptDelete,toggleSuccess,deletePrompt,deletePromptSetId,deletePromptFinished,deleteMessage};","map":{"version":3,"sources":["C:/Users/avivk/Documents/GitHub/scanlyreal/client/src/Store/Actions/promptActions.js"],"names":["actionTypes","axios","store","loading","finishedLoading","getEmails","deleteMessagePrompt","type","DELETE","toggleSuccess","TOGGLE_SUCCESS","closePrompt","dispatch","deletePromptFinished","closePromptFunc","CLOSE_PROMPT","openPromptDelete","title","text","OPEN_PROMPT_DELETE","closePromptDelete","CLOSE_PROMPT_DELETE","deletePrompt","IS_DELETE","IS_DELETE_FINISHED","deletePromptSetId","id","SET_ID_TO_DELETE","payload","openPrompt","subjectOptional","OPEN_PROMPT","deleteMessage","getState","prompt","idToDelete","delete","then","data","error","response"],"mappings":"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","sourcesContent":["import { actionTypes } from '../actionTypes'\r\nimport axios from 'axios'\r\nimport { store } from '../store'\r\nimport { loading, finishedLoading } from './loadingActions'\r\nimport { getEmails } from './mainActions'\r\nconst deleteMessagePrompt = () => {\r\n    return {\r\n        type: actionTypes.DELETE,\r\n    }\r\n}\r\n\r\nconst toggleSuccess = () => {\r\n    return {\r\n        type: actionTypes.TOGGLE_SUCCESS,\r\n    }\r\n}\r\n\r\nconst closePrompt = () => dispatch => {\r\n    dispatch(deletePromptFinished())\r\n    dispatch(closePromptFunc())\r\n\r\n}\r\n\r\nconst closePromptFunc = () => {\r\n    return {\r\n        type: actionTypes.CLOSE_PROMPT,\r\n    }\r\n}\r\n\r\nconst openPromptDelete = (title, text) => {\r\n    return {\r\n        type: actionTypes.OPEN_PROMPT_DELETE,\r\n        title,\r\n        text\r\n    }\r\n\r\n}\r\n\r\nconst closePromptDelete = (title, text) => {\r\n    return {\r\n        type: actionTypes.CLOSE_PROMPT_DELETE,\r\n        title,\r\n        text\r\n    }\r\n\r\n}\r\nconst deletePrompt = () => {\r\n    return {\r\n        type: actionTypes.IS_DELETE,\r\n    }\r\n}\r\n\r\nconst deletePromptFinished = () => {\r\n    return {\r\n        type: actionTypes.IS_DELETE_FINISHED,\r\n    }\r\n}\r\n\r\nconst deletePromptSetId = (id) => {\r\n    return {\r\n        type: actionTypes.SET_ID_TO_DELETE,\r\n        payload: id\r\n    }\r\n}\r\n\r\nconst openPrompt = (title, text, subjectOptional) => {\r\n    return {\r\n        type: actionTypes.OPEN_PROMPT,\r\n        title,\r\n        text,\r\n        subjectOptional\r\n    }\r\n}\r\n\r\nconst deleteMessage = () => async dispatch => {\r\n    const id = store.getState().prompt.idToDelete;\r\n    dispatch(loading());\r\n    try {\r\n        axios.delete('/messages/' + id)\r\n            .then(data => {\r\n                dispatch(getEmails())\r\n            })\r\n    }\r\n    catch (error) {\r\n        dispatch(openPrompt('Error', error.response.data))\r\n    }\r\n    finally {\r\n        dispatch(finishedLoading());\r\n    }\r\n}\r\n\r\n\r\nexport {\r\n    closePrompt,\r\n    openPrompt,\r\n    deleteMessagePrompt,\r\n    openPromptDelete,\r\n    closePromptDelete,\r\n    toggleSuccess,\r\n    deletePrompt,\r\n    deletePromptSetId,\r\n    deletePromptFinished,\r\n    deleteMessage\r\n}"]},"metadata":{},"sourceType":"module"}