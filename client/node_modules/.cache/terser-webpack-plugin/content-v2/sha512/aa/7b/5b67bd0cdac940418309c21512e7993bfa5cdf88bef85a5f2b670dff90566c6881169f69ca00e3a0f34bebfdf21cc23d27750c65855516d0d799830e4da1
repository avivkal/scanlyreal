{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[11],{188:function(e,t,s){},199:function(e,t,s){\"use strict\";s.r(t);var a=s(61),n=s(32),r=s(33),i=s(35),c=s(34),o=s(3),l=s(0),u=s(41),d=s(60),m=s(42),j=s(12),p=s(11),b=s(39),h=s(125),f=s(137),O=s(138),g=s(122),x=s(123),w=s(189),y=s(16),v=s.n(y),C=s(152),U=s.n(C),P=(s(188),function(e){Object(i.a)(s,e);var t=Object(c.a)(s);function s(){var e;Object(n.a)(this,s);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={username:\"\",password:\"\",submitUsername:!1,submitPassword:!1},e.onSubmit=function(t){t.preventDefault(),e.props.updateWifiDetails(e.state.username,e.state.password),e.setState({submitUsername:!0})},e.componentDidMount=function(){e.props.loggedIn||(Object(b.a)()?(e.props.updateCurrentUser(Object(b.a)()),e.props.setLoggedIn()):e.props.history.push(p.d)),e.props.load();try{v.a.get(\"/details/\"+Object(b.a)().email).then((function(t){var s=t.data;e.setState({username:s.wifiUsername,password:s.wifiPassword})}))}catch(t){e.props.openPrompt(\"\\u05ea\\u05e7\\u05dc\\u05d4\",\"\\u05dc\\u05d0 \\u05e0\\u05d9\\u05ea\\u05df \\u05dc\\u05d1\\u05e6\\u05e2 \\u05d0\\u05ea \\u05d4\\u05e4\\u05e2\\u05d5\\u05dc\\u05d4\")}finally{e.props.finishedLoading()}},e.onChange=function(t){e.setState(Object(a.a)({},t.target.name,t.target.value))},e}return Object(r.a)(s,[{key:\"render\",value:function(){var e=this;return this.props.loading?Object(o.jsx)(h.a,{animation:\"border\",className:\"spinner\"}):Object(o.jsxs)(f.a,{children:[!(this.state.submitUsername||this.state.submitPassword)&&Object(o.jsx)(O.a,{onSubmit:this.onSubmit,className:\"form-style\",children:Object(o.jsxs)(g.a,{xs:12,lg:6,className:\"float-right\",children:[Object(o.jsxs)(O.a.Group,{controlId:\"formBasicEmail\",className:\"align-right\",children:[Object(o.jsx)(O.a.Label,{children:\"Wifi\\u05e9\\u05dd \\u05de\\u05e9\\u05ea\\u05de\\u05e9 \\u05dc\"}),Object(o.jsx)(O.a.Control,{name:\"username\",type:\"text\",placeholder:\"Enter Wifi Username\",onChange:function(t){return e.onChange(t)},value:this.state.username})]}),Object(o.jsxs)(O.a.Group,{controlId:\"formBasicPassword\",className:\"align-right\",children:[Object(o.jsx)(O.a.Label,{children:\"Wifi\\u05e1\\u05d9\\u05e1\\u05de\\u05d4 \\u05dc\"}),Object(o.jsx)(O.a.Control,{name:\"password\",type:\"password\",placeholder:\"Enter Wifi Password\",onChange:function(t){return e.onChange(t)},value:this.state.password})]}),Object(o.jsx)(x.a,{variant:\"primary\",type:\"submit\",children:\"\\u05d4\\u05de\\u05e9\\u05da\"})]})}),this.state.submitUsername&&Object(o.jsxs)(f.a,{children:[\" \",Object(o.jsxs)(w.a,{className:\"center-style\",children:[\" \",Object(o.jsx)(g.a,{md:{span:6,offset:3},children:Object(o.jsx)(U.a,{value:this.state.username})}),\" \"]}),Object(o.jsxs)(w.a,{children:[\" \",Object(o.jsx)(g.a,{md:{span:6,offset:3},className:\"center-style\",children:Object(o.jsx)(x.a,{variant:\"primary\",onClick:function(){return e.setState({submitPassword:!0,submitUsername:!1})},children:\"\\u05d4\\u05de\\u05e9\\u05da\"})}),\" \"]})]}),this.state.submitPassword&&Object(o.jsxs)(f.a,{children:[\" \",Object(o.jsxs)(w.a,{className:\"center-style\",children:[\" \",Object(o.jsx)(g.a,{md:{span:6,offset:3},children:Object(o.jsx)(U.a,{value:this.state.password})}),\" \"]}),Object(o.jsxs)(w.a,{children:[\" \",Object(o.jsx)(g.a,{md:{span:6,offset:3},className:\"center-style\",children:Object(o.jsx)(x.a,{variant:\"primary\",onClick:function(){return e.setState({submitPassword:!1,submitUsername:!1})},children:\"\\u05e1\\u05d9\\u05d5\\u05dd\"})}),\" \"]})]})]})}}]),s}(l.Component));t.default=Object(u.b)((function(e){return{currentUser:e.main.currentUser,loggedIn:e.main.loggedIn,loading:e.loading.loading}}),(function(e){return{updateCurrentUser:function(t){return e(d.f(t))},setLoggedIn:function(){return e(d.c())},updateWifiDetails:function(t,s){return e(d.g(t,s))},openPrompt:function(t,s){return e(m.b(t,s))},load:function(){return e(j.b())},finishedLoading:function(){return e(j.a())}}}))(P)}}]);","name":"static/js/11.ad1c2206.chunk.js","map":{"version":3,"sources":["static/js/11.ad1c2206.chunk.js"],"names":["this","push","188","module","exports","__webpack_require__","199","__webpack_exports__","r","C_Users_avivk_Documents_GitHub_scanlyreal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","C_Users_avivk_Documents_GitHub_scanlyreal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","C_Users_avivk_Documents_GitHub_scanlyreal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","C_Users_avivk_Documents_GitHub_scanlyreal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__","C_Users_avivk_Documents_GitHub_scanlyreal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__","react__WEBPACK_IMPORTED_MODULE_6__","react_redux__WEBPACK_IMPORTED_MODULE_7__","_Store_Actions_mainActions__WEBPACK_IMPORTED_MODULE_8__","_Store_Actions_promptActions__WEBPACK_IMPORTED_MODULE_9__","_Store_Actions_loadingActions__WEBPACK_IMPORTED_MODULE_10__","_Constants_const__WEBPACK_IMPORTED_MODULE_11__","_UtilityFunctions_functions__WEBPACK_IMPORTED_MODULE_12__","react_bootstrap__WEBPACK_IMPORTED_MODULE_13__","react_bootstrap__WEBPACK_IMPORTED_MODULE_14__","react_bootstrap__WEBPACK_IMPORTED_MODULE_15__","react_bootstrap__WEBPACK_IMPORTED_MODULE_16__","react_bootstrap__WEBPACK_IMPORTED_MODULE_17__","react_bootstrap__WEBPACK_IMPORTED_MODULE_18__","axios__WEBPACK_IMPORTED_MODULE_19__","axios__WEBPACK_IMPORTED_MODULE_19___default","n","react_barcode__WEBPACK_IMPORTED_MODULE_20__","react_barcode__WEBPACK_IMPORTED_MODULE_20___default","Wifi","_Component","Object","_super","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","username","password","submitUsername","submitPassword","onSubmit","event","preventDefault","props","updateWifiDetails","setState","componentDidMount","loggedIn","updateCurrentUser","setLoggedIn","history","load","a","get","email","then","data","user","wifiUsername","wifiPassword","error","openPrompt","finishedLoading","onChange","target","name","value","key","_this2","loading","animation","className","children","xs","lg","Group","controlId","Label","Control","type","placeholder","e","variant","md","span","offset","onClick","currentUser","main","dispatch","title","text"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[11],{\n\n/***/ 188:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 199:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var C_Users_avivk_Documents_GitHub_scanlyreal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(61);\n/* harmony import */ var C_Users_avivk_Documents_GitHub_scanlyreal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(32);\n/* harmony import */ var C_Users_avivk_Documents_GitHub_scanlyreal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(33);\n/* harmony import */ var C_Users_avivk_Documents_GitHub_scanlyreal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(35);\n/* harmony import */ var C_Users_avivk_Documents_GitHub_scanlyreal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(34);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(3);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(41);\n/* harmony import */ var _Store_Actions_mainActions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(60);\n/* harmony import */ var _Store_Actions_promptActions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(42);\n/* harmony import */ var _Store_Actions_loadingActions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(12);\n/* harmony import */ var _Constants_const__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(11);\n/* harmony import */ var _UtilityFunctions_functions__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(39);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(125);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(137);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(138);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(122);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(123);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(189);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(16);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var react_barcode__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(152);\n/* harmony import */ var react_barcode__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(react_barcode__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var _wifi_scss__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(188);\n/* harmony import */ var _wifi_scss__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_wifi_scss__WEBPACK_IMPORTED_MODULE_21__);\nvar Wifi=/*#__PURE__*/function(_Component){Object(C_Users_avivk_Documents_GitHub_scanlyreal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(Wifi,_Component);var _super=Object(C_Users_avivk_Documents_GitHub_scanlyreal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(Wifi);function Wifi(){var _this;Object(C_Users_avivk_Documents_GitHub_scanlyreal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(this,Wifi);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:'',password:'',submitUsername:false,submitPassword:false};_this.onSubmit=function(event){event.preventDefault();_this.props.updateWifiDetails(_this.state.username,_this.state.password);_this.setState({submitUsername:true});// axios.post('/wifi',{email:getCurrentUser().email,wifiUsername: this.state.username,wifiPassword: this.state.password }).then(data => console.log(data))\n};_this.componentDidMount=function(){if(!_this.props.loggedIn){if(Object(_UtilityFunctions_functions__WEBPACK_IMPORTED_MODULE_12__[/* getCurrentUser */ \"a\"])()){_this.props.updateCurrentUser(Object(_UtilityFunctions_functions__WEBPACK_IMPORTED_MODULE_12__[/* getCurrentUser */ \"a\"])());_this.props.setLoggedIn();}else{_this.props.history.push(_Constants_const__WEBPACK_IMPORTED_MODULE_11__[/* LOGIN_PATH */ \"d\"]);}}_this.props.load();try{axios__WEBPACK_IMPORTED_MODULE_19___default.a.get('/details/'+Object(_UtilityFunctions_functions__WEBPACK_IMPORTED_MODULE_12__[/* getCurrentUser */ \"a\"])().email).then(function(data){var user=data.data;_this.setState({username:user.wifiUsername,password:user.wifiPassword});});}catch(error){_this.props.openPrompt('תקלה','לא ניתן לבצע את הפעולה');}finally{_this.props.finishedLoading();}};_this.onChange=function(event){_this.setState(Object(C_Users_avivk_Documents_GitHub_scanlyreal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},event.target.name,event.target.value));};return _this;}Object(C_Users_avivk_Documents_GitHub_scanlyreal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Wifi,[{key:\"render\",value:function render(){var _this2=this;if(this.props.loading){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"],{animation:\"border\",className:\"spinner\"});}return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"],{children:[!(this.state.submitUsername||this.state.submitPassword)&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"],{onSubmit:this.onSubmit,className:\"form-style\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"],{xs:12,lg:6,className:\"float-right\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"].Group,{controlId:\"formBasicEmail\",className:\"align-right\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"].Label,{children:\"Wifi\\u05E9\\u05DD \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9 \\u05DC\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"].Control,{name:\"username\",type:\"text\",placeholder:\"Enter Wifi Username\",onChange:function onChange(e){return _this2.onChange(e);},value:this.state.username})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"].Group,{controlId:\"formBasicPassword\",className:\"align-right\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"].Label,{children:\"Wifi\\u05E1\\u05D9\\u05E1\\u05DE\\u05D4 \\u05DC\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"].Control,{name:\"password\",type:\"password\",placeholder:\"Enter Wifi Password\",onChange:function onChange(e){return _this2.onChange(e);},value:this.state.password})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_17__[/* default */ \"a\"],{variant:\"primary\",type:\"submit\",children:\"\\u05D4\\u05DE\\u05E9\\u05DA\"})]})}),this.state.submitUsername&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"],{children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"],{className:\"center-style\",children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"],{md:{span:6,offset:3},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(react_barcode__WEBPACK_IMPORTED_MODULE_20___default.a,{value:this.state.username})}),\" \"]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"],{children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"],{md:{span:6,offset:3},className:\"center-style\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_17__[/* default */ \"a\"],{variant:\"primary\",onClick:function onClick(){return _this2.setState({submitPassword:true,submitUsername:false});},children:\"\\u05D4\\u05DE\\u05E9\\u05DA\"})}),\" \"]})]}),this.state.submitPassword&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"],{children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"],{className:\"center-style\",children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"],{md:{span:6,offset:3},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(react_barcode__WEBPACK_IMPORTED_MODULE_20___default.a,{value:this.state.password})}),\" \"]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"],{children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"],{md:{span:6,offset:3},className:\"center-style\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_17__[/* default */ \"a\"],{variant:\"primary\",onClick:function onClick(){return _this2.setState({submitPassword:false,submitUsername:false});},children:\"\\u05E1\\u05D9\\u05D5\\u05DD\"})}),\" \"]})]})]});}}]);return Wifi;}(react__WEBPACK_IMPORTED_MODULE_6__[\"Component\"]);var mapStateToProps=function mapStateToProps(state){return{currentUser:state.main.currentUser,loggedIn:state.main.loggedIn,loading:state.loading.loading};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{updateCurrentUser:function updateCurrentUser(user){return dispatch(_Store_Actions_mainActions__WEBPACK_IMPORTED_MODULE_8__[/* updateUsername */ \"f\"](user));},setLoggedIn:function setLoggedIn(){return dispatch(_Store_Actions_mainActions__WEBPACK_IMPORTED_MODULE_8__[/* loggedIn */ \"c\"]());},updateWifiDetails:function updateWifiDetails(username,password){return dispatch(_Store_Actions_mainActions__WEBPACK_IMPORTED_MODULE_8__[/* updateWifiDetails */ \"g\"](username,password));},openPrompt:function openPrompt(title,text){return dispatch(_Store_Actions_promptActions__WEBPACK_IMPORTED_MODULE_9__[/* openPrompt */ \"b\"](title,text));},load:function load(){return dispatch(_Store_Actions_loadingActions__WEBPACK_IMPORTED_MODULE_10__[/* loading */ \"b\"]());},finishedLoading:function finishedLoading(){return dispatch(_Store_Actions_loadingActions__WEBPACK_IMPORTED_MODULE_10__[/* finishedLoading */ \"a\"]());}};};/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_7__[/* connect */ \"b\"])(mapStateToProps,mapDispatchToProps)(Wifi));\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\avivk\\Documents\\GitHub\\scanlyreal\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-6-0!C:\\Users\\avivk\\Documents\\GitHub\\scanlyreal\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-6-1!C:\\Users\\avivk\\Documents\\GitHub\\scanlyreal\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\avivk\\Documents\\GitHub\\scanlyreal\\client\\node_modules\\resolve-url-loader\\index.js??ref--5-oneOf-6-3!C:\\Users\\avivk\\Documents\\GitHub\\scanlyreal\\client\\node_modules\\sass-loader\\dist\\cjs.js??ref--5-oneOf-6-4!C:\\Users\\avivk\\Documents\\GitHub\\scanlyreal\\client\\src\\Components\\Wifi\\wifi.scss","C:/Users/avivk/Documents/GitHub/scanlyreal/client/src/Components/Wifi/Wifi.js"],"names":["Wifi","state","username","password","submitUsername","submitPassword","onSubmit","event","preventDefault","props","updateWifiDetails","setState","componentDidMount","loggedIn","getCurrentUser","updateCurrentUser","setLoggedIn","history","push","LOGIN_PATH","load","axios","get","email","then","data","user","wifiUsername","wifiPassword","error","openPrompt","finishedLoading","onChange","target","name","value","loading","e","span","offset","Component","mapStateToProps","currentUser","main","mapDispatchToProps","dispatch","mainActions","title","text","promptActions","loadingActions","connect"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport * as mainActions from '../../Store/Actions/mainActions'\r\nimport * as promptActions from '../../Store/Actions/promptActions'\r\nimport * as loadingActions from '../../Store/Actions/loadingActions'\r\nimport { LOGIN_PATH } from '../../Constants/const';\r\nimport { getCurrentUser } from '../../UtilityFunctions/functions';\r\nimport { Form, Button, Container, Spinner,Row,Col } from 'react-bootstrap';\r\nimport axios from 'axios'\r\nimport Barcode from 'react-barcode'\r\nimport './wifi.scss'\r\n\r\n\r\nclass Wifi extends Component {\r\n    state = {\r\n        username: '',\r\n        password: '',\r\n        submitUsername: false,\r\n        submitPassword: false,\r\n    }\r\n    onSubmit = (event) => {\r\n        event.preventDefault();\r\n        this.props.updateWifiDetails(this.state.username, this.state.password);\r\n        this.setState({ submitUsername: true })\r\n        // axios.post('/wifi',{email:getCurrentUser().email,wifiUsername: this.state.username,wifiPassword: this.state.password }).then(data => console.log(data))\r\n    };\r\n\r\n    componentDidMount = () => {\r\n        if (!this.props.loggedIn) {\r\n            if (getCurrentUser()) {\r\n                this.props.updateCurrentUser(getCurrentUser())\r\n                this.props.setLoggedIn()\r\n            }\r\n            else {\r\n                this.props.history.push(LOGIN_PATH)\r\n            }\r\n        }\r\n        this.props.load();\r\n        try {\r\n            axios.get('/details/' + getCurrentUser().email).then(data => {\r\n                const user = data.data;\r\n                this.setState({\r\n                    username: user.wifiUsername,\r\n                    password: user.wifiPassword,\r\n                });\r\n            })\r\n        }\r\n        catch (error) {\r\n            this.props.openPrompt('תקלה', 'לא ניתן לבצע את הפעולה');\r\n        }\r\n        finally {\r\n            this.props.finishedLoading();\r\n        }\r\n\r\n    }\r\n\r\n    onChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    };\r\n\r\n    render() {\r\n        if (this.props.loading) {\r\n            return <Spinner animation=\"border\" className=\"spinner\" />\r\n        }\r\n\r\n        return (\r\n            <Container>\r\n                {!(this.state.submitUsername || this.state.submitPassword) && <Form onSubmit={this.onSubmit} className=\"form-style\">\r\n                    <Col xs={12} lg={6} className=\"float-right\">\r\n                    <Form.Group controlId=\"formBasicEmail\" className=\"align-right\">\r\n                        <Form.Label>Wifiשם משתמש ל</Form.Label>\r\n                        <Form.Control name=\"username\" type=\"text\" placeholder=\"Enter Wifi Username\" onChange={(e) => this.onChange(e)} value={this.state.username} />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formBasicPassword\" className=\"align-right\">\r\n                    <Form.Label>Wifiסיסמה ל</Form.Label>\r\n                        <Form.Control name=\"password\" type=\"password\" placeholder=\"Enter Wifi Password\" onChange={(e) => this.onChange(e)} value={this.state.password} />\r\n                    </Form.Group>\r\n                    <Button variant=\"primary\" type=\"submit\">\r\n                        המשך\r\n  </Button>\r\n  </Col>\r\n                </Form>}\r\n                \r\n                {this.state.submitUsername && <Container> <Row className=\"center-style\"> <Col md={{ span: 6, offset: 3 }}\r\n><Barcode value={this.state.username} /></Col> </Row>\r\n                  <Row> <Col md={{ span: 6, offset: 3 }} className=\"center-style\"><Button variant=\"primary\" onClick={()=>this.setState({submitPassword: true, submitUsername: false})}>\r\n                        המשך\r\n  </Button></Col> </Row></Container>}\r\n                {this.state.submitPassword && <Container> <Row className=\"center-style\"> <Col md={{ span: 6, offset: 3 }}\r\n><Barcode value={this.state.password} /></Col> </Row>\r\n                  <Row> <Col md={{ span: 6, offset: 3 }} className=\"center-style\"><Button variant=\"primary\" onClick={()=>this.setState({submitPassword: false, submitUsername: false})}>\r\n                        סיום\r\n  </Button></Col> </Row></Container>}\r\n\r\n\r\n               \r\n\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentUser: state.main.currentUser,\r\n        loggedIn: state.main.loggedIn,\r\n        loading: state.loading.loading\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        updateCurrentUser: (user) => dispatch(mainActions.updateUsername(user)),\r\n        setLoggedIn: () => dispatch(mainActions.loggedIn()),\r\n        updateWifiDetails: (username, password) => dispatch(mainActions.updateWifiDetails(username, password)),\r\n        openPrompt: (title, text) => dispatch(promptActions.openPrompt(title, text)),\r\n        load: () => dispatch(loadingActions.loading()),\r\n        finishedLoading: () => dispatch(loadingActions.finishedLoading()),\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Wifi);"]}}